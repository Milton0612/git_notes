# 三、文件的处理

## 1、删除的文件找回

* 前提：删除时，文件存在时的状态提交到了本地库
* 操作：git reset --hard 【指针的位置】
* 删除操作已经提交到本地库：指针的位置指向历史记录
* 删除操作尚未提交到本地库：指针位置使用head

## 2、比较文件到差异

* git diff 【文件名】
  * 将工作区中的文件与暂存取进行比较

* git diff 【本地库历史版本】【文件名】
  * 将工作区中的文件与本地历史进行比较

* 不带文件名比较多个文件
  * 比较所有文件的差异

## 3、分支管理

#### 3.1 什么是分支

* 在版本控制过程中，使用多条线同时推进多个任务。

#### 3.2 分支的好处

* 同时推进多个功能的开发，提高开发效率
* 各个分支在开发过程中，如果一个分支开发失败，不会对其他分支产生任何影响。失败的分支删除重新开始就好。
* svn也有分支，但在分支管理特别的不方便，效率特别低。

拓展：svn 分支

1.  主干负责新功能的开发
2.  分支负责修正当前发布版本的bug（对于可以放入下个发布版本的改进性bug可以直接在主干上开发）
3.  分支上修改的bug，经常性merge到主干上，尽量及时merge（避免大面积红色区域）。
4.  只能分支往主干靠拢（merge），不能反向！
5. 直到下个新版本发布，该分支停止修改

#### 3.3 分支的操作

* 查看分支：git branch -v

* 创建分支：git branch 【分支名】

* 切换分支：git checkout 【分支名】

* 合并分支

  * 切换到接受修改的分支上（被合并的分支）

    git checkout 【被合并的分支名】

  * 执行merge命令

    git merge 【有新内容的分支名】

* 这里合并不会产生额外的文件，SVN的话，起冲突会产生额为的文件

#### 3.4 分支合并冲突问题

* 第一步：编辑文件，删除特殊符号，留下需要的内容
* 第二步：把文件修改到满意的程度，保存退出
* 第三步：git add [文件名]
* 第四步：git commit -m '日志信息'
  * 注意：此时commit 一定不能带具体的文件名